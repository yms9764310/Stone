<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../assets/css/layui.css">
    <link rel="stylesheet" href="../assets/css/view.css"/>
    <link rel="icon" href="/favicon.ico">
    <title>修改密码</title>

    <style type="text/css">

        .layui-input {
            width: 15%;
        }

        .sureUpdate {
            position: relative;
            left: 230px;
            top: 20px;
        }
        .form-box{
            background-color: #fff;
            padding: 15px 20px;
            height: 250px;
            width: 1307px;
        }
        .pagewrap{
            width: 100%;
        }
    </style>
</head>
<body class="childrenBody">
<form class="layui-form" style="width:80%;">
    <div class="layui-content">
        <div class="layui-page-header">
            <div class="pagewrap">
                <span class="layui-breadcrumb">
                  <a href="">首页</a>
                  <a href="">用户</a>
                  <a><cite>用户组</cite></a>
                </span>
                <h2 class="title">修改密码</h2>
            </div>
        </div>
        <div class="form-box">
        <div class="layui-form-item">
                <label class="layui-form-label">当前密码</label>
                <div class="layui-input-block">
                    <input type="text" lay-verify="required" class="layui-input" name="psd1"
                           placeholder="请输入">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">新密码</label>
                <div class="layui-input-block">
                    <input type="password" name="pwd2" required lay-verify="required|pwd2" placeholder="请输入"
                           autocomplete="off" class="layui-input" id="pwd2">
                    <!--                <input type="text" lay-verify="required" class="layui-input" name="psd2"-->
                    <!--                       placeholder="请输入">-->
                </div>
                <!--        <div class="layui-form-mid layui-word-aux">6到16个字符</div>-->
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">确认新密码</label>
                <div class="layui-input-block">
                    <input type="password" name="psd3" required lay-verify="psd3|pwd2" placeholder="请输入"
                           autocomplete="off" class="layui-input" id="pwd3">

                    <!--                <input type="text" lay-verify="required" class="layui-input" name="psd3"-->
                    <!--                       placeholder="请输入" onchange="checkpwd()">-->
                </div>
            </div>
            <div id="msg" style="color:red;"></div>
            <button class="layui-btn layui-btn-primary sureUpdate" lay-submit="" lay-filter="sureUpdate">确定修改</button>
            <!--        <button type="button" id="sureUpdate" class="layui-btn layui-btn-primary sureUpdate">确定修改</button>-->
        </div>
    </div>
</form>
<script src="../assets/lay/modules/config.js"></script>
<script src="../assets/layui.js"></script>
<script type="text/javascript" src="changePassword.js"></script>
<script type="text/javascript" src="../assets/lay/modules/jquery.js"></script>
<script type="text/javascript">
    // function checkpwd() {
    //     var p1 = document.form1.psd2.value;//获取密码框的值
    //     var p2 = document.form1.psd3.value;//获取重新输入的密码值
    //     if (p1 == "") {
    //         alert("请输入密码！");//检测到密码为空，提醒输入//
    //         document.form1.psd2.focus();//焦点放到密码框
    //         return false;//退出检测函数
    //     }//如果允许空密码，可取消这个条件
    //     if (p1 != p2) {//判断两次输入的值是否一致，不一致则显示错误信息
    //         document.getElementById("msg").innerHTML = "两次输入密码不一致，请重新输入";//在div显示错误信息
    //         return false;
    //     } else {
    //         //密码一致，可以继续下一步操作
    //     }
    // }
    layui.use('form', function () {
        var form = layui.form;
        form.on('submit(sureUpdate)', function (data) {
            layer.msg(JSON.stringify(data.field));
            return false;
        });
        form.verify({
            pwd2:  [
                /^[\S]{6,12}$/
                ,'密码必须6到12位，且不能出现空格'
            ] ,
            psd3: function (value) {
                var repassvalue = $('#pwd2').val();
                if (value !== repassvalue) {
                    return '两次输入的密码不一致!';
                }
            }
        });
    });

</script>
</body>
</html>
